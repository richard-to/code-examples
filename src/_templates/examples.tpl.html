<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>{{title}}</title>
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
</head>
<body>
    <div class="nav-container">
        <div id="menu-button" class="nav-button"><i class="fa fa-bars"></i> Menu</div>
        <div id="self-test-button" class="nav-button nav-selected"><i class="fa fa-flash"></i> Self Test</div>
        <div class="search-container"><i class="fa fa-search"></i> <input class="search-input" /></div>
    </div>

    <div id="menu-container" class="sidebar">
        <div class="arrow-wrap align-right"><i class="fa fa-bars"></i></div>
        <div class="sidebar-wrap">        
        <h2><i class="fa fa-bars"></i> Menu</h2>
            <ul class="menu-items">
                <li><a href="/java/examples/helloworld.html">Java Examples</a></li>
                <li><a href="/java/exercises/variables1.html">Java Exercises</a></li>
                <li><a href="/cpp/examples/helloworld.html">C++ Examples</a></li>
            </ul>                
           {% include menu_include %}
        </div>
    </div>

    <div id="main-container">
        <h1>{{title}}</h1>

        <div class="file-bar"><div class="file-tab">{{classname}}.{{file_type}}</div></div>
        <pre id="editor">{{code|e}}</pre>

        <p><button id="run-button" class="button success">Run</button> <button id="reset-button" class="button">Make Editable</button></p>

        <pre id="output" class="hidden"></pre>

        <a href="http://www.cloudsigma.com/?utm_source=cloudsigma-poweredby-badge-140x27&utm_medium=Banner&utm_campaign=badge" style="outline:none"><img src="http://www.cloudsigma.com/uploads/banners/cloudsigma-poweredby-badge-140x27.png"></a>
    </div>

    <div id="exercises-container" class="sidebar sidebar-left sidebar-wider show">
        <div class="arrow-wrap"><i class="fa fa-flash"></i></div>
        <div class="sidebar-wrap">        
        <h2><i class="fa fa-flash"></i> Self Test Questions</h2>
        <ol>
            {% for exercise in exercises %}
                <li>{{exercise}}</li>
            {% endfor %}
        </ol>
        </div>
    </div>

    <pre id="master-content" class="hidden">{{code|e}}</pre>

    <pre id="master-output" class="hidden">{{output}}</pre>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
    <script src="/js/vendor/ace/ace.js" type="text/javascript"></script>
    <script src="/js/vendor/typeahead.js" type="text/javascript"></script>       
    <script src="/js/examples-main.js" type="text/javascript"></script>
    <script  type="text/javascript">
        $('#menu-button').click(function(e) {
            $('#menu-container').addClass('show');
            $(this).addClass('nav-selected');
            e.stopPropagation();
        });

        $('#main-container, .nav-container').click(function() {
            $('#menu-container').removeClass('show');
            $('#menu-button').removeClass('nav-selected');            
        });
        
        $('#self-test-button').click(function() {
            if ($('#exercises-container').hasClass('show')) {
                $('#self-test-button').removeClass('nav-selected');
                $('#exercises-container').removeClass('show');
            } else {
                $('#self-test-button').addClass('nav-selected');
                $('#exercises-container').addClass('show');                
            }
        });       

        var searchEngine = new Bloodhound({
            datumTokenizer: function(datum) { 
                var keywords = datum.title + " " + datum.tags;
                return Bloodhound.tokenizers.obj.whitespace(keywords); 
            },            
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            prefetch: '{{search_data_url}}',
            remote: '{{search_data_url}}',
        });

        searchEngine.initialize();


        $('.search-input').typeahead(null, {
            displayKey: 'title',
            source: searchEngine.ttAdapter()
        }).on('typeahead:selected', function (object, datum) {
            window.location.href = datum.url;
        });

        var options = {
            delay: 500,
            classname: '{{classname}}',
            endpoint: '{{endpoint}}',
            mode: 'ace/mode/{{ace_mode}}',
            theme: 'ace/theme/xcode'
        };
        init_editor(options);
    </script>
</body>
</html>